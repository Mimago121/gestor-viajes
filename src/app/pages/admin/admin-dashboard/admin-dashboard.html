<div class="admin-container">
  
  <header class="admin-header">
    <div>
      <h1>Panel de AdministraciÃ³n ğŸ›¡ï¸</h1>
      <p>Gestiona la plataforma</p>
    </div>

    <div class="admin-social-actions">
      <a routerLink="/chats" class="btn-social" title="Ir a mis chats">
        ğŸ’¬ Mis Chats
      </a>
      <a routerLink="/friends" class="btn-social" title="Buscar usuarios">
        ğŸ‘¥ Comunidad
      </a>
    </div>
  </header>

  <div class="tabs">
    <button 
      [class.active]="activeTab === 'users'" 
      (click)="activeTab = 'users'">
      ğŸ‘¥ Usuarios
    </button>
    <button 
      [class.active]="activeTab === 'trips'" 
      (click)="activeTab = 'trips'">
      âœˆï¸ Viajes Sugeridos
    </button>
  </div>

  <div *ngIf="activeTab === 'users'" class="tab-content">
    <table class="data-table">
      <thead>
        <tr>
          <th>Usuario</th>
          <th>Email</th>
          <th>Rol</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>
            <div class="user-cell">
              <img [src]="user.avatar || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'" class="mini-avatar">
              {{ user.name }}
            </div>
          </td>
          <td>{{ user.email }}</td>
          <td>
            <span class="badge" [class.admin]="user.role === 'admin'">
              {{ user.role || 'user' }}
            </span>
          </td>
          <td>
            <button class="btn-small" (click)="toggleAdminRole(user)">
              {{ user.role === 'admin' ? 'Quitar Admin' : 'Hacer Admin' }}
            </button>
            <button class="btn-small danger" (click)="deleteUser(user.id)">Borrar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="activeTab === 'trips'" class="tab-content">
    
    <button class="btn-primary mb" (click)="isCreatingTrip = !isCreatingTrip">
      {{ isCreatingTrip ? 'Cancelar' : '+ Nueva Plantilla de Viaje' }}
    </button>

    <div *ngIf="isCreatingTrip" class="create-box">
      <form [formGroup]="tripTemplateForm" (ngSubmit)="createTripTemplate()">
        <div class="form-group">
          <label>Destino</label>
          <input type="text" formControlName="destination" placeholder="Ej: ParÃ­s Express">
        </div>
        <div class="form-group">
          <label>DescripciÃ³n corta</label>
          <input type="text" formControlName="description" placeholder="Ej: 3 dÃ­as romÃ¡nticos...">
        </div>
        <div class="form-group">
          <label>DÃ­as de duraciÃ³n</label>
          <input type="number" formControlName="durationDays">
        </div>
        <div class="form-group">
          <label>URL Imagen</label>
          <input type="text" formControlName="imageUrl" placeholder="https://...">
        </div>
        <button type="submit" class="btn-save" [disabled]="tripTemplateForm.invalid">Guardar Plantilla</button>
      </form>
    </div>

    <div class="templates-grid">
      <div class="template-card" *ngFor="let trip of tripTemplates">
        <img [src]="trip.imageUrl || 'https://via.placeholder.com/300'" alt="Trip">
        <div class="t-info">
          <h3>{{ trip.destination }}</h3>
          <p>{{ trip.description }}</p>
          <small>DuraciÃ³n: {{ trip.durationDays }} dÃ­as</small>
        </div>
        <button class="btn-del" (click)="deleteTemplate(trip.id)">ğŸ—‘ï¸</button>
      </div>
    </div>
  </div>

</div>