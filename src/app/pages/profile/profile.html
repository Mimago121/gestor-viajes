<div class="profile-container">

  <div class="profile-header">
    <img class="avatar" [src]="user.avatar" alt="Avatar del usuario">
    <h2>{{ user.name }}</h2>
    <span class="username">{{ user.username }}</span>
    <p class="bio">{{ user.bio }}</p>
  </div>

  <div class="stats">
    <div class="stat">
      <strong>{{ user.stats.trips }}</strong>
      <span>Viajes</span>
    </div>
    <div class="stat">
      <strong>{{ user.stats.countries }}</strong>
      <span>Países</span>
    </div>
    <div class="stat">
      <strong>{{ user.stats.friends }}</strong>
      <span>Amigos</span>
    </div>
  </div>

  <div class="next-trip">
    <h3>✈️ Próximo viaje</h3>
    <p>{{ user.nextTrip.destination }}</p>
    <span style="font-size: 0.85rem; color: #666;">{{ user.nextTrip.date }}</span>
  </div>

  <div class="actions">
    <button class="btn primary" (click)="openEditModal()">Editar perfil</button>
    <button class="btn secondary" (click)="logout()">Cerrar sesión</button>
  </div>

</div>

<div class="modal-overlay" *ngIf="isEditing">
  <div class="modal-card">
    <h3>Editar Perfil</h3>
    
    <form [formGroup]="editForm" (ngSubmit)="saveProfile()">
      
      <div class="form-group">
        <label>Nombre</label>
        <input type="text" formControlName="name">
      </div>

      <div class="form-group">
        <label>Usuario (@)</label>
        <input type="text" formControlName="username">
      </div>

      <div class="form-group">
        <label>Biografía</label>
        <textarea formControlName="bio" rows="3"></textarea>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn secondary" (click)="closeEditModal()">Cancelar</button>
        <button type="submit" class="btn primary" [disabled]="editForm.invalid">Guardar</button>
      </div>

    </form>
  </div>
</div>