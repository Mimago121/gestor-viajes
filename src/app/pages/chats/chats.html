<div class="chats-container">
  <div class="header-chat">
    <h1>Mensajes ğŸ’¬</h1>
  </div>
  
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando conversaciones...</p>
  </div>

  <div class="chat-list" *ngIf="!loading && chats.length > 0">
    
    <div 
      class="chat-item" 
      *ngFor="let chat of chats" 
      (click)="openChat(chat.id)"
      [class.has-unread]="chat.unreadCount > 0"
    >
      <img [src]="chat.avatar" class="avatar">
      
      <div class="info">
        <div class="top-row">
          <h3>{{ chat.name }}</h3>
          </div>

        <p *ngIf="chat.unreadCount === 0" class="msg-preview">{{ chat.lastMessage }}</p>
        <p *ngIf="chat.unreadCount > 0" class="msg-unread">
          Â¡Tienes {{ chat.unreadCount }} mensajes nuevos!
        </p>
      </div>

      <div class="unread-badge" *ngIf="chat.unreadCount > 0">
        {{ chat.unreadCount }}
      </div>
    </div>

  </div>

  <div class="empty-state" *ngIf="!loading && chats.length === 0">
    <div class="icon-placeholder">ğŸ‘¥</div>
    <h2>No tienes amigos aÃºn</h2>
    <p>Debes conocer personas para poder chatear.</p>
    
    <a routerLink="/friends" class="btn-find-friends">
      Buscar Personas
    </a>
  </div>

</div>